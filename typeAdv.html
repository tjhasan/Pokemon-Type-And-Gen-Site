<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styling.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Final Project</title>
  </head>
  <body>

    <div id="text">

    <div class="container"> 
      <h1 class="text-white-50">Type Calculator</h1>      
	    <p class="text-white text-center">Select an option from below!</p>

      <div class="column">
      <label class="text-black" id="white-bg">
	<p id="post" align="center">
	Result
	</p>
      </label>
      </div>
         <div class="column">
	   <form>
	<label class="text-white"> Attacking Type: </label>    
	  <select id="op1">
	    <option value="Ghost">Ghost</option>
	    <option value="Dark">Dark</option>
	    <option value="Poison">Poison</option>
	    <option value="Electric">Electric</option>
            <option value="Normal">Normal</option>
            <option value="Fire">Fire</option>
            <option value="Psychic">Psychic</option>
            <option value="Flying">Flying</option>
            <option value="Ice">Ice</option>
            <option value="Dragon">Dragon</option>
            <option value="Water">Water</option>
            <option value="Fighting">Fighting</option>
            <option value="Steel">Steel</option>
            <option value="Rock">Rock</option>
            <option value="Fairy">Fairy</option>
            <option value="Grass">Grass</option>
            <option value="Bug">Bug</option>
            <option value="Ground">Ground</option>
	  </select>
      </div>
      <div class="column">
	<label class="text-white">Defending Type:</label>
	<select id="op2">
          <option value="Ghost">Ghost</option>
          <option value="Dark">Dark</option>
          <option value="Poison">Poison</option>
          <option value="Electric">Electric</option>
          <option value="Normal">Normal</option>
          <option value="Fire">Fire</option>
          <option value="Psychic">Psychic</option>
          <option value="Flying">Flying</option>
          <option value="Ice">Ice</option>
          <option value="Dragon">Dragon</option>
          <option value="Water">Water</option>
          <option value="Fighting">Fighting</option>
          <option value="Steel">Steel</option>
          <option value="Rock">Rock</option>
          <option value="Fairy">Fairy</option>
          <option value="Grass">Grass</option>
          <option value="Bug">Bug</option>
          <option value="Ground">Ground</option>
	</select>
      </div>
	<div class="column">
	<input type="button" value="Submit" onclick="btnClick()"></form>
</div>
       </div>
       	<a href="index.html">
	<img src="return.png" alt="pages" id="top-margin"></img>
	</a>
</div>     
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
    <script>
      function btnClick(){<!--Sends request containing attacking type (first) from user's submission-->
         $.getJSON("http://172.17.152.127/types/?op1="+$('#op1').val(), processData);   
      }
      
      function processData(result){
         var y = $('#op2').val(); <!--Compares defending type (second) to the API result-->
         $.each(result, function(i, item){
            var eff = item[y];
            document.getElementById("post").innerHTML = eff; 
         })}
    </script>
  </body>    
</html>
