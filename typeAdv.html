<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Final Project</title>
  </head>
  
  <body>
    <a href="index.html">Home</a>
    <!--Form to select attacking and defending types-->
    <form>
      <label>Attacking Type:</label>    
      <select id="op1">
	<option value="Ghost">Ghost</option>
	<option value="Dark">Dark</option>
	<option value="Poison">Poison</option>
	<option value="Electric">Electric</option>
        <option value="Normal">Normal</option>
        <option value="Fire">Fire</option>
        <option value="Psychic">Psychic</option>
        <option value="Flying">Flying</option>
        <option value="Ice">Ice</option>
        <option value="Dragon">Dragon</option>
        <option value="Water">Water</option>
        <option value="Fighting">Fighting</option>
        <option value="Steel">Steel</option>
        <option value="Rock">Rock</option>
        <option value="Fairy">Fairy</option>
        <option value="Grass">Grass</option>
        <option value="Bug">Bug</option>
        <option value="Ground">Ground</option>
      </select>

      <br>

      <label>Defending Type:</label>
      <select id="op2">
        <option value="Ghost">Ghost</option>
        <option value="Dark">Dark</option>
        <option value="Poison">Poison</option>
        <option value="Electric">Electric</option>
        <option value="Normal">Normal</option>
        <option value="Fire">Fire</option>
        <option value="Psychic">Psychic</option>
        <option value="Flying">Flying</option>
        <option value="Ice">Ice</option>
        <option value="Dragon">Dragon</option>
        <option value="Water">Water</option>
        <option value="Fighting">Fighting</option>
        <option value="Steel">Steel</option>
        <option value="Rock">Rock</option>
        <option value="Fairy">Fairy</option>
        <option value="Grass">Grass</option>
        <option value="Bug">Bug</option>
        <option value="Ground">Ground</option>
      </select>

      <br>

      <input type="button" value="Submit" onclick="btnClick()">

    </form>
    
    <p id="post"></p>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
    <script>
      function btnClick(){<!--Sends request containing attacking type (first) from user's submission-->
         $.getJSON("http://172.17.152.127/types/?op1="+$('#op1').val(), processData);   
      }
      
      function processData(result){
         var y = $('#op2').val(); <!--Compares defending type (second) to the API result-->
         $.each(result, function(i, item){
            var eff = item[y];
            document.getElementById("post").innerHTML = eff; 
         })
      }
    </script>
  </body>    
</html>
