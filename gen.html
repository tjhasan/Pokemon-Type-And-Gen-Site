<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Final Project</title>
  </head>

  <body>
    <a href="index.html">Home</a>
    <form>
      <label>Choose A Generation:</label>
      <select id="op1">
        <option value="1">Generation 1</option>
        <option value="2">Generation 2</option>
        <option value="3">Generation 3</option>
        <option value="4">Generation 4</option>
        <option value="5">Generation 5</option>
        <option value="6">Generation 6</option>
        <option value="7">Generation 7</option>
        <option value="8">Generation 8</option>
      </select>
      <input type="button" value="Submit" onclick="btnClick()">  
    </form>
    
    <div id="post">
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
      function btnClick(){<!--The JSON object depends on the query string which is generated via the submited form -->
         $.getJSON("http://172.17.152.127/gens/?op1="+$('#op1').val(), processData);
         document.getElementById("post").innerHTML = "";<!--This clears the #post div for the new information -->
      }

      function processData(result){
         $.each(result, function(i, item){<!--Gets the image of the generation that the user submitted-->
            $("#post").append(["<img src="+item.GameImage+">"]); <!--Images are hosted locally-->
         })
      }
    </script>
  </body>
</html>
